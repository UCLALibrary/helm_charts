{{ if .Values.externalSecrets.enabled }}
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  name: {{ .Values.acme.eab.keySecretRef }}
  labels:
    {{- include "clusterissuer.labels" . | nindent 4 }}
spec:
  backendType: {{ .Values.externalSecrets.backend | default "systemManager" | quote }}
  data:
    {{- range $k, $v := .Values.externalSecrets.env }}
    - key: {{ $v }}
      name: {{ $k }}
    {{- end }}
{{ end }}
